<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Links Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <img src="vectmaarif.png" alt="Maarif Logo" class="header-logo left-logo">
        <h1 class="header-title">IMST Dashboard 2024-2025</h1>
        <img src="vectcambridge.png" alt="Cambridge Logo" class="header-logo right-logo">
    </header>

    <div class="container">
        <!-- Frame 1 - Attendance -->
        <div class="frame">
            <h2>Attendance</h2>
            <p class="note">Select the year to access the attendance sheet.</p>
            <select id="yearSelect">
                <option value="year0">Year 0</option>
                <option value="year1">Year 1</option>
                <option value="year2">Year 2</option>
                <option value="year3">Year 3</option>
                <option value="year4">Year 4</option>
                <option value="year5">Year 5</option>
                <option value="year6">Year 6</option>
                <option value="year7">Year 7</option>
                <option value="year8">Year 8</option>
                <option value="year9">Year 9</option>
                <option value="year10">Year 10</option>
                <option value="year11">Year 11</option>
                <option value="year12">Year 12</option>
                <option value="year13">Year 13</option>
            </select>
            <button onclick="accessAttendance()">Access Attendance</button>
        </div>

        <!-- Frame 2 - Weekly Reports -->
        <div class="frame">
            <h2>Weekly Reports</h2>
            <p class="note">Access the weekly reports here.</p>
            <button onclick="accessWeeklyReports()">Go to Reports</button>
        </div>

        <!-- Frame 3 - Grade Submission -->
        <div class="frame">
            <h2>Grade Submission</h2>
            <p class="note">Each teacher has a passcode to access and submit grades for their subjects.</p>
            <input type="text" id="gradePasscode" placeholder="Enter Passcode">
            <button onclick="accessGradeSubmission()">Access Grade Sheets</button>
        </div>

        <!-- Frame 4 - Report Cards -->
        <div class="frame">
            <h2>Report Cards</h2>
            <p class="note">Homeroom teachers can access the report cards for a check before printing.</p>
            <input type="text" id="reportPasscode" placeholder="Enter Passcode">
            <button onclick="accessReportCards()">Access Report Cards</button>
        </div>

        <!-- Frame 5 - Students Lists -->
        <div class="frame">
            <h2>Students Lists</h2>
            <p class="note">Teachers can access the list of students.</p>
            <button onclick="accessStudentLists()">Access Students Lists</button>
        </div>

        <!-- Frame 6 - School Database -->
        <div class="frame">
            <h2>School Database</h2>
            <p class="note">Admin officers and HR can access our school database.</p>
            <input type="text" id="databasePasscode" placeholder="Enter Passcode">
            <button onclick="accessSchoolDatabase()">Access Database</button>
        </div>
    </div>

    <footer class="footer">
        <p>Admin staff have a supercode to access everything.</p>
    </footer>

    <script>
        async function fetchJSON(filename) {
            const response = await fetch(filename);
            return await response.json();
        }

        async function accessAttendance() {
            const year = document.getElementById('yearSelect').value;
            const links = await fetchJSON('links.json');
            window.location.href = links[`attendance_link_for_${year}`];
        }

        async function accessWeeklyReports() {
            const links = await fetchJSON('links.json');
            window.location.href = links.weekly_reports_link;
        }

        async function accessGradeSubmission() {
            const passcode = document.getElementById('gradePasscode').value;
            const passcodes = await fetchJSON('passcodes.json');
            const links = await fetchJSON('links.json');
            if (passcodes[`grade_passcode_${passcode}`]) {
                window.location.href = links[`grade_submission_link_for_passcode_${passcode}`];
            } else {
                alert("Invalid passcode.");
            }
        }

        async function accessReportCards() {
            const passcode = document.getElementById('reportPasscode').value;
            const passcodes = await fetchJSON('passcodes.json');
            const links = await fetchJSON('links.json');
            if (passcodes[`report_passcode_${passcode}`]) {
                window.location.href = links[`report_card_link_for_passcode_${passcode}`];
            } else {
                alert("Invalid passcode.");
            }
        }

        async function accessStudentLists() {
            const links = await fetchJSON('links.json');
            window.location.href = links.student_lists_link;
        }

        async function accessSchoolDatabase() {
            const passcode = document.getElementById('databasePasscode').value;
            const passcodes = await fetchJSON('passcodes.json');
            const links = await fetchJSON('links.json');
            if (passcodes[`database_passcode_${passcode}`]) {
                window.location.href = links[`school_database_link_for_passcode_${passcode}`];
            } else {
                alert("Invalid passcode.");
            }
        }
    </script>
</body>
</html>
